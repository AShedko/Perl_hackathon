Дано:

Сервер (bin/server.pl):
чат сервер - принимает сообщения и транслирует их всем своим клиентам
ведет реестр подключившихся клиентов.
после закрытия соединения клиента с сервером удаляет клиента из реестра.

Клиент (bin/chat.pl):
идентифицируется nick-ом.
если nick уже зарегистрирован на сервере, получает nick-name автоматически.
получает все сообщения от чат-сервера, отправляет сообщение на чат-сервер от имени своего nick-а.

Задачи:
Серверные
1. Поддерка авторизации по nick + password.
   Сервер должен проверять, что во входящих сообщениях вместе с nick-ом передается еще и password (protocol version = 2).
   Если подключившийся клиент - новый, запоминает nick + password и все дальнейшие авторизации от клиента проверяет на валиднось password-а.
   Если пароль не валидный отвечает клиенту "Не правильный пароль".
   Если пользователь с таким логином в онлайне, то отбирает логин у того пользователя.
2. Поддержка "комнат".
   Регистрация новой комнаты. Запрос на вход в комнату для приватных комнат. Разрешение на вход в комнату.
   После получения разрешения на вход в комнату, клиент может отправлять сообщения в комнату, сервер эти сообщения транслирует всем вошедшим в комнату.
3. Приватные сообщения.
   Возможность написать приватное сообщение. 
4. Роли.
   Оператор - суперпользователь, может назначать все роли, кроме "Оператор". Указывается в конфиге сервера при старте.
   Администратор - может давать роли модератора.
   Модератор - может давать и забирать голос. Reedonly доступ для клиентов.
5. Поддержка rate limit-ов.
   Если nick отправляет больше чем 1000 запросов в минуту - блокируем запросы от nick-а: отправляем на все соединения nick-а сообщение "Вы превысили лимит запросов на сервер"
   и закрываем все соединения nick-а c сервером.
   Делаем так, пока не истечет 3 минуты с последнего "заблокированного" запроса.
6. Поддержка auto kick-а неактивных клиентов.
   Если клиент не отправлял сообщения на сервер больше 5 минут - выкидываем клиента из чата: отправляем клиенту сообщение "Неактивное соединение закрыто" и закрываем соединение с сервером.
7. Поддержка шифрования.
   RSA шифрование протокола взаимодействия клиента с сервером.

Клиентские боты.
Боты должны поддерживать команду "!who", в ответ на которую посылают сообщение "i am <bot_id>".

1. Калькулятор calc (id=calc) 
   Реагирует на свой nick. Весь текст написанный после nick-а интерпертирует как арифметическое выражение, которое надо вычислить. Вычисляет его и отправляет ответ.
   Требования к калькулятору как в ДЗ на калькулятор.
   Пример:
   запрос от клиента:calc 1+2
   ответ: 1+2 = 3
ID: calc
Req: <bot_nick> <expression>
Resp: <req_nick> <expression> = <result>

2. perldoc
   Документация по perl
   Реагирует на свой nick
   Пример:
   запрос от клиента: perldoc perldoc
   реакция бота: вывод команды perldoc perldoc, в plain text, без page-инга. выводи раздел NAME и один абзац из DESCRIPTION (при наличии)
ID: perldoc
Req: <bot_nick> [-f] <request>
Resp: <resp_nick> <plain_text>

3. bash.im
   Выдает случайные цитаты из rss feed-а bash.im http://bash.im/rss один раз в минуту
   Пример:
   ответ: xxx: Следующий Самсунг будет ВАЩЕ БОМБА!
ID: bashim
Req:  
Autoresp: <plain_text>

4. fortune
   Выводит случайные цитаты выдаваемые командой fortune 1 раз в минуту
   Пример:
   ответ: If there are epigrams, there must be meta-epigrams.
ID: fortune
Req: <bot_nick>
Resq: <resp_nick> <plain_text>

5. Напоминатор
   Реагирует на свой ник.
   Принимает, дату, время и событие о котором надо напомнить. В нужное время сообщает о событии.
   Пример:
   запрос от клиента: 18/10/2016 15:00:00 обед!
   ответ от сервера:  <nickname> 18/10/2016 в 15:00:00: обед!
ID: alarm
Req: <bot_nick> <dd/mm/yyyy> <hh:mm:ss> <message>
Resp: <resp_nick> <dd/mm/yyyy> <hh:mm:ss> : <message>

6. ЖЖ атом stream
   Отдает свежие посты с atome stream ЖЖ - http://atom.services.livejournal.com/atom-stream.xml
   Отдает заголовок и ссылку на пост при появлении нового сообщения в atom ленте
   Пример:
   ответ: Как Польша снова кинула Францию. http://balalaikin-01.livejournal.com/2008946.html
ID: lj
Req:  
Autoresp: <subject> <link>

7. spell checker.
   проверка правописания
   реагирует на свой ник
   проверяет текст написанный на русском языке на правописание и если в тексте есть ошибки, печатает слова, в которых есть ошибки через пробел, заключая их в одинарные кавычки.
   если ошибок нет - печатает OK
   Пример:
   запрос от клиента: spell съешь еще этих мягких булочек
   ответ: OK
   запрос от клиента: spell съеш есчё этих мягких булочек
   ответ: 'съеш' 'есчё'
ID: spellcheck
Req: <bot_nick> <phrase>
Resp: <resp_nick> <'bad_words_list'> | OK

8. Фильтр мата foul_monitor
   Реагирует на все сообщения от всех клиентов.
   Ведет статистику сколько сообщений содержащие матерные слова отправил каждый клиент и отправляет предупреждения матершинникам.
   Поддерживает команду show stat - по которой показыват full list матершинников.
   Примеры:
   сообщение от клиента: <vasiliy> Евлампий - ты мудак!
   реакция бота: <foul_monitor> vasiliy - Вам предупреждение за мат!
   статистика: foul_monitor show stat
   ответ на статистику:
   vasiliy - 10
   evlampiy - 5
   peter - 3
   viktor - 2
   masha - 1
ID: antifucker
Req: <bot_nick> stat
Resp: <resp_nick> : <nick> <counter>\n ...
Autoresp: <fucked_nick> <message> 

9. Поздравлятор
   Выдает случайные поздравления с сайта http://pozdravok.ru/
   реагирует на свой ник
   Пример:
   запрос от клиента: pozdravok
   ответ:
   Тебе желаю море счастья,
   Улыбок, солнца и тепла.
   Чтоб жизнь была еще прекрасней,
   Не знать печали никогда!
ID: pozdravok
Req: <bot_nick>
Resp: <resp_nick> <plain_text>

10. Конвертор валют в российский рубль- cbr 
   Реагирует на свой nick.
   Работает по базе курсов валют ЦБ РФ доступной в виде XML
   http://www.cbr.ru/scripts/Root.asp?PrtId=SXML
   Формат запроса: <value> <currency> [<date (DD/MM/YYYY)>]
   Фотмат ответа: <value> <currency> <date (DD/MM/YYYY)> = <value> RUB
   <value> - сумма
   <currency> - валюта из которой конвертируем
   <date> - интересует курс на указанную дату. Если <date> в запросе не указан, то берем текущую дату.
   Пример:
   запрос от клиента:cbr 10 USD
   ответ: 10 USD 02/03/2002 = 3094.36 RUB
ID: cbr
Req: <bot_nick> <amount> <currency>
Resp: <req_nick> <amount> <currency> <dd/mm/yyyy> = <result_amount> RUB
   
11. Словарь Ожегова
   Реагирует на свой ник
   Принимает на вход слово, в ответ его описание из словаря Ожегова http://slovarozhegova.ru/
   Пример:
   запрос от клиента: dict стол
   ответ от сервера: стол : СТОЛ1, -а, м. 1. Предмет мебели в виде широкой горизонтальной пластинына опорах, ножках.
ID: dict
Req: <bot_nick> <word>
Resp: <resp_nick> <word> : <description>

12. Поле чудес
   Загадывает слово из http://slovarozhegova.ru/ (в чат пишет описание слова и количество букв вида *****) 
   Парсит весь поток сообщений, если в сообщении есть загаданное слово, добавляет 1 бал в статистику этого пользователя. 
   Если в течении минуты не было правильного ответа, открывает одну случайную букву в слове (***а***). 
   Если закрытых букв стало меньше 3, загадывает следущее слово. 
   Если дан правильный ответ, загадывает следущее слово.
   Перед загадыванием нового слова показывает топ 5 пользователей.
ID: yakub
Req: 
Resp: формат вольный

Доп задача для сервера:
бан на 5 минут пользователей из top 5 метершинников, при условии, что матерился > 3 раз.
